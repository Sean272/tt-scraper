# 批量查询作者粉丝数量使用指南

## 功能介绍

本功能可以批量读取CSV文件中的TikTok作者用户名，然后批量查询这些作者的粉丝数量、关注数量、获赞数量等统计信息，并将结果导出为CSV文件。

## 支持的数据字段

查询结果包含以下字段：
- 作者用户名
- 作者昵称
- 粉丝数量
- 关注数量
- 获赞数量
- 视频数量
- 是否认证
- 个人简介
- 查询状态
- 错误信息（如果查询失败）

## 使用方式

### 方式一：命令行使用

1. **准备输入文件**
   
   创建一个CSV或TXT文件，包含要查询的作者列表。格式如下：
   
   ```csv
   用户名
   tiktok
   dance
   music
   comedy
   ```
   
   或者简单的TXT格式（每行一个用户名）：
   ```
   tiktok
   dance
   music
   comedy
   ```

2. **运行命令**
   
   ```bash
   # 使用示例文件
   node examples/batch-authors-followers.js examples/sample-authors.csv
   
   # 使用自定义文件
   node examples/batch-authors-followers.js 你的文件.csv
   
   # 指定特定的列名（如果CSV有多列）
   node examples/batch-authors-followers.js 你的文件.csv username
   ```

3. **查看结果**
   
   结果会保存在 `examples/output/batch_authors_followers_YYYY-MM-DD.csv` 文件中。

### 方式二：网页界面使用

1. **启动网页服务**
   
   ```bash
   cd tiktok-web-scraper
   npm run dev
   ```

2. **访问页面**
   
   打开浏览器访问 `http://localhost:3000`

3. **使用界面**
   
   - 点击"作者粉丝查询"标签页
   - 上传包含作者列表的CSV或TXT文件
   - 点击"开始查询粉丝信息"
   - 等待查询完成
   - 点击"下载CSV文件"保存结果

## 注意事项

1. **文件格式**：支持CSV和TXT格式，如果是CSV文件，默认使用第一列作为用户名
2. **查询频率**：为避免被平台限制，每个作者之间会有2秒的延迟
3. **错误处理**：如果某个作者查询失败，会记录错误信息但不影响其他作者的查询
4. **网络要求**：需要稳定的网络连接，建议在网络环境良好时使用

## 输出文件说明

输出的CSV文件采用UTF-8编码，包含BOM头，可直接用Excel打开而不出现中文乱码。

如果Excel打开时出现乱码，请：
1. 选择"数据" → "从文本/CSV"
2. 选择文件
3. 在编码选项中选择"UTF-8"
4. 点击"加载"

## 测试功能

运行测试脚本验证功能是否正常：

```bash
node examples/test-authors-followers.js
```

## 常见问题

**Q: 查询速度慢怎么办？**
A: 为了避免被平台限制，系统会自动添加延迟。这是正常的保护措施。

**Q: 某些作者查询失败？**
A: 可能的原因包括：用户名不存在、账号设为私密、网络问题等。失败的记录会在结果中标注。

**Q: 可以查询多少个作者？**
A: 理论上没有数量限制，但建议单次查询不超过100个作者，以确保稳定性。

**Q: 如何准备输入文件？**
A: 最简单的方式是创建一个TXT文件，每行写一个TikTok用户名（不包含@符号）。 