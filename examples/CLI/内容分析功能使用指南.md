# 内容分析功能使用指南

## 功能概述

内容分析功能是TikTok视频采集工具的新增功能，能够自动分析视频的文本内容，提供智能化的内容理解和总结。

## 主要功能

### 1. 主题分类
自动识别视频内容属于哪个主题类别，支持14个主要类别：
- **美食**：食物、烹饪、餐厅相关内容
- **舞蹈**：各种舞蹈表演和教学
- **音乐**：歌曲、演唱、乐器演奏
- **搞笑**：幽默、段子、喜剧内容
- **教育**：教程、知识分享、科普
- **时尚**：穿搭、美妆、造型
- **旅行**：旅游、景点、游记
- **运动**：健身、体育、锻炼
- **宠物**：动物、萌宠内容
- **科技**：数码、编程、AI等
- **生活**：日常分享、Vlog
- **游戏**：游戏、电竞、直播
- **情感**：爱情、情感相关内容
- **商业**：创业、营销、广告
- **其他**：未分类的内容

### 2. 情感分析
分析视频内容的情感倾向：
- **positive**：正面情感（喜欢、爱、好、棒等）
- **negative**：负面情感（讨厌、恨、坏、差等）
- **neutral**：中性情感

### 3. 关键词提取
自动从视频描述和话题标签中提取关键词，帮助理解内容核心。

### 4. 内容摘要
生成视频内容的简要总结，快速了解视频主要内容。

### 5. 语言检测
识别内容使用的语言类型（中文、英文、混合）。

### 6. 内容类型分类
区分不同类型的内容：
- **entertainment**：娱乐内容
- **educational**：教育内容
- **commercial**：商业/广告内容
- **personal**：个人生活分享
- **other**：其他类型

### 7. 目标受众识别
分析视频的目标受众群体：
- 学生
- 年轻人
- 女性
- 男性
- 一般用户

### 8. 内容质量评分
基于多个维度评估内容质量（0-100%）：
- 文本长度
- 话题标签数量
- 内容完整性
- 互动性

## 使用方法

### 1. 准备输入文件
创建CSV文件，包含要分析的视频ID：

```csv
video_id
7529241930178252037
7530472638058155271
7530473621936934151
```

### 2. 运行分析命令
```bash
node examples/batch-video-content-analysis.js video-ids.csv
```

### 3. 查看结果
分析完成后会生成：
- CSV数据文件：包含所有视频信息和内容分析结果
- 控制台报告：显示统计信息和分布情况

## 输出文件说明

### CSV文件字段
除了原有的视频信息字段外，还会包含以下内容分析字段：

| 字段名 | 说明 | 示例值 |
|--------|------|--------|
| 内容主题 | 自动识别的主题类别 | 美食 |
| 情感倾向 | 情感分析结果 | positive |
| 关键词 | 提取的关键词 | 美食\|烹饪\|分享 |
| 内容摘要 | 内容简要总结 | 分享一道美味的家常菜做法... |
| 语言 | 检测到的语言 | 中文 |
| 内容类型 | 内容分类 | entertainment |
| 目标受众 | 目标受众群体 | 年轻人\|美食爱好者 |
| 内容质量评分 | 质量评分 | 75.0% |

### 分析报告
控制台会显示详细的统计报告：

```
=== 内容分析报告 ===

📈 主题分布:
   美食: 15个 (30.0%)
   舞蹈: 8个 (16.0%)
   音乐: 6个 (12.0%)
   ...

😊 情感分布:
   positive: 35个 (70.0%)
   neutral: 12个 (24.0%)
   negative: 3个 (6.0%)

📝 内容类型分布:
   entertainment: 25个 (50.0%)
   educational: 15个 (30.0%)
   personal: 8个 (16.0%)
   commercial: 2个 (4.0%)

🌍 语言分布:
   中文: 45个 (90.0%)
   英文: 3个 (6.0%)
   混合: 2个 (4.0%)

⭐ 平均内容质量评分: 72.5%
```

## 应用场景

### 1. 内容运营分析
- 了解用户喜欢的内容类型
- 分析内容的情感倾向
- 识别热门话题和关键词

### 2. 竞品分析
- 分析竞争对手的内容策略
- 了解行业内容趋势
- 识别内容差异化机会

### 3. 内容创作指导
- 了解目标受众偏好
- 优化内容主题选择
- 提升内容质量

### 4. 市场研究
- 分析不同主题的受欢迎程度
- 了解用户情感需求
- 识别内容机会

## 注意事项

1. **API限制**：批量处理时会有适当延迟，避免触发API限制
2. **内容准确性**：分析结果基于文本内容，视频本身的内容可能无法完全识别
3. **语言支持**：主要支持中文和英文内容分析
4. **关键词提取**：基于简单的文本分析，可能不如专业NLP工具精确

## 扩展功能

### 集成外部AI API
可以通过修改代码集成外部AI服务（如OpenAI、百度AI等）来提升分析准确性：

```javascript
// 在ContentAnalyzer类中添加API调用
private async apiContentAnalysis(videoData) {
  // 调用外部AI API进行更精确的分析
  const response = await axios.post('https://api.openai.com/v1/chat/completions', {
    // API配置
  });
  return response.data;
}
```

### 自定义分析规则
可以根据需要修改分析规则：

```javascript
// 添加新的主题类别
this.topicKeywords['新主题'] = ['关键词1', '关键词2'];

// 修改情感分析词汇
const positiveWords = [...existingWords, '新正面词汇'];
```

## 故障排除

### 常见问题

1. **分析结果不准确**
   - 检查视频描述是否完整
   - 确认语言支持情况
   - 考虑使用外部AI API

2. **处理速度慢**
   - 减少批量处理数量
   - 增加延迟时间
   - 检查网络连接

3. **API错误**
   - 检查网络连接
   - 确认API限制
   - 稍后重试

### 调试技巧

1. 查看控制台输出的详细日志
2. 检查生成的CSV文件内容
3. 对比不同视频的分析结果
4. 验证输入文件格式是否正确

## 更新日志

- **v1.0.0**：初始版本，支持基础内容分析功能
- 支持14个主题分类
- 支持情感分析
- 支持关键词提取
- 支持内容摘要生成
- 支持语言检测
- 支持内容类型分类
- 支持目标受众识别
- 支持内容质量评分 